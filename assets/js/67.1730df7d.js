(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{301:function(t,r,e){"use strict";e.r(r);var s=e(0),a=Object(s.a)({},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"fiddler-抓包移动端-https"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fiddler-抓包移动端-https","aria-hidden":"true"}},[t._v("#")]),t._v(" Fiddler 抓包移动端 HTTPS")]),t._v(" "),e("p",[t._v("Fiddler 下载地址："),e("a",{attrs:{href:"https://www.telerik.com/fiddler",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.telerik.com/fiddler"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("Fiddler 官文："),e("a",{attrs:{href:"http://docs.telerik.com/fiddler/Configure-Fiddler/Tasks/ConfigureFiddler",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://docs.telerik.com/fiddler/Configure-Fiddler/Tasks/ConfigureFiddler"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("设置抓包 HTTPS")]),t._v(" "),e("p",[t._v("菜单Tools - Options - HTTPS，勾选 Capture HTTPS CONNECTs、Decrypt HTTPS traffic、Ignore server certificate errors (unsafe) 等选项。")]),t._v(" "),e("p",[t._v("若只抓移动端，可选择 ...from remote clients only。")]),t._v(" "),e("p",[e("img",{attrs:{src:"assets/1537329997290.png",alt:"1537329997290"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"assets/1537330073411.png",alt:"1537330073411"}})]),t._v(" "),e("p",[t._v("​\t\t进入 Connections，勾选 Allow remote computers to connect 允许远程设备连接。")]),t._v(" "),e("p",[e("img",{attrs:{src:"assets/1537330105460.png",alt:"1537330105460"}})])]),t._v(" "),e("li",[e("p",[t._v("安装证书")]),t._v(" "),e("p",[t._v("进入 Options - HTTPS，点击 Actions - Trust Root Certificate。")]),t._v(" "),e("p",[e("img",{attrs:{src:"assets/1537330158325.png",alt:"1537330158325"}})]),t._v(" "),e("p",[t._v("再次点击 Actions - Export Root Certificate to Desktop，用于浏览器导入。")])])]),t._v(" "),e("p",[e("img",{attrs:{src:"assets/1537330197029.png",alt:"1537330197029"}})]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[t._v("手机下载并安装证书")]),t._v(" "),e("p",[t._v("鼠标移动到 Fiddler 右上角 Online 可看到本机 IP（Fiddler 主机 IP）。")]),t._v(" "),e("p",[t._v("​\t\t"),e("img",{attrs:{src:"assets/1537330380036.png",alt:"1537330380036"}})]),t._v(" "),e("p",[t._v("手机设置代理，服务器为 Fiddler 主机 IP，端口为 8888。")]),t._v(" "),e("p",[t._v("手机浏览器访问 http://<Fiddler 主机 IP>:8888，点击下图红框位置下载证书。")]),t._v(" "),e("p",[e("img",{attrs:{src:"assets/1537330516594.png",alt:"1537330516594"}})]),t._v(" "),e("p",[t._v("iOS 10 以上需要进入设置 - 通用 - 关于本机 - 证书信用设置手动信任 DO_NOT_TRUST_FiddlerRoot 证书。")])])]),t._v(" "),e("h2",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),e("p",[t._v("以微信公众号为例。")]),t._v(" "),e("h3",{attrs:{id:"重定向"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重定向","aria-hidden":"true"}},[t._v("#")]),t._v(" 重定向")]),t._v(" "),e("p",[t._v("将 https://wechat-web.funxi.cn 映射到 https://119.23.226.83。")]),t._v(" "),e("p",[t._v("选择右侧 AutoResponder，勾选 Enable rules，点击 Add Rules 添加一条如下图记录，点击 Save 保存。")]),t._v(" "),e("p",[e("img",{attrs:{src:"assets/1537423257697.png",alt:"1537423257697"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"assets/1537423157306.png",alt:"1537423157306"}})]),t._v(" "),e("h3",{attrs:{id:"过滤指定域名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#过滤指定域名","aria-hidden":"true"}},[t._v("#")]),t._v(" 过滤指定域名")]),t._v(" "),e("p",[t._v("选择右侧 "),e("strong",[t._v("Filters")]),t._v("，勾选 "),e("strong",[t._v("Use Filters")]),t._v("，Host Filter 选择 "),e("strong",[t._v("Show only the follwing Hosts")]),t._v("，在编辑框中填入 "),e("code",[t._v("wechat-web.funxi.cn;wechat.funxi.cn;wechat-dev.funxi.cn;119.23.226.83;")]),t._v(" 后，点击 "),e("strong",[t._v("Actions")]),t._v(" - "),e("strong",[t._v("Run Filterset now")]),t._v(" 使过滤生效。")]),t._v(" "),e("p",[e("img",{attrs:{src:"assets/1537423434524.png",alt:"1537423434524"}})]),t._v(" "),e("p",[t._v("最后微信打开公众号或者打开 https://wechat-web.funxi.cn 就能正常使用了。")]),t._v(" "),e("h2",{attrs:{id:"其他"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他","aria-hidden":"true"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),e("p",[t._v("若经过上述操作还是不能捕捉到 HTTPS，可以尝试下载 "),e("a",{attrs:{href:"https://www.telerik.com/fiddler/add-ons",target:"_blank",rel:"noopener noreferrer"}},[t._v("CertMaker 插件"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("先删除之前 Fiddler 生成的所有证书。Win + R，输入 certmgr.msc，操作 - 查找证书，搜索 Fiddler，全部删除。")]),t._v(" "),e("p",[t._v("安装插件后，重启 Fiddler，重新配置。")]),t._v(" "),e("p",[t._v("参考："),e("a",{attrs:{href:"http://docs.telerik.com/fiddler/Configure-Fiddler/Tasks/ConfigureForiOS#capture-traffic-from-ios-device",target:"_blank",rel:"noopener noreferrer"}},[t._v("Capture Traffic from iOS Device"),e("OutboundLink")],1)])])},[],!1,null,null,null);r.default=a.exports}}]);